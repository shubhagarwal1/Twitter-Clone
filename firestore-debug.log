May 06, 2024 6:52:38 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketServer start
INFO: Started WebSocket server on ws://127.0.0.1:9151
API endpoint: http://127.0.0.1:8080
If you are using a library that supports the FIRESTORE_EMULATOR_HOST environment variable, run:

   export FIRESTORE_EMULATOR_HOST=127.0.0.1:8080

If you are running a Firestore in Datastore Mode project, run:

   export DATASTORE_EMULATOR_HOST=127.0.0.1:8080

Note: Support for Datastore Mode is in preview. If you encounter any bugs please file at https://github.com/firebase/firebase-tools/issues.
Dev App Server is now running.

May 06, 2024 6:52:49 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler initChannel
INFO: Connected to new websocket client
May 06, 2024 6:52:50 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler channelClosed
INFO: Websocket client disconnected
May 06, 2024 6:53:01 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler initChannel
INFO: Connected to new websocket client
May 06, 2024 6:53:45 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
May 06, 2024 6:53:45 PM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreServerHandler doChannel
WARNING: failed to set up stream
java.lang.IllegalArgumentException: Invalid app id: dev~"twitter-6b50d",
	at com.google.cloud.datastore.core.names.projectids.ProjectIds.parseAppId(ProjectIds.java:176)
	at com.google.cloud.datastore.core.rep.DatabaseRef.createForApp(DatabaseRef.java:271)
	at com.google.cloud.datastore.core.firestorev1.converter.FirestoreV1ResourceRefToRepConverter.parseDatabaseRef(FirestoreV1ResourceRefToRepConverter.java:249)
	at com.google.cloud.datastore.core.firestorev1.converter.FirestoreV1ResourceRefToRepConverter.convertDatabaseRefHelper(FirestoreV1ResourceRefToRepConverter.java:163)
	at com.google.cloud.datastore.core.firestorev1.converter.FirestoreV1ResourceRefToRepConverter.convertDatabaseRefServiceRelative(FirestoreV1ResourceRefToRepConverter.java:155)
	at com.google.cloud.datastore.emulator.impl.util.FirestoreEmulatorConverters.toDatabaseRef(FirestoreEmulatorConverters.java:623)
	at com.google.cloud.datastore.emulator.impl.firestore.CloudFirestoreV1Router.databaseRefFromContext(CloudFirestoreV1Router.java:449)
	at com.google.cloud.datastore.emulator.impl.firestore.CloudFirestoreV1Router.listenStream(CloudFirestoreV1Router.java:206)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.<init>(FirestoreV1WebChannelAdapter.java:171)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreServerHandler.lambda$wrapper$2(FirestoreV1WebChannelAdapter.java:119)
	at io.grpc.Context.run(Context.java:536)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreServerHandler.wrapper(FirestoreV1WebChannelAdapter.java:113)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreServerHandler.doChannel(FirestoreV1WebChannelAdapter.java:70)
	at com.google.net.webchannel.server.v8.HttpServerHandlerImpl.publishNewChannel(HttpServerHandlerImpl.java:166)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:140)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)

May 06, 2024 6:53:56 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler channelClosed
INFO: Websocket client disconnected
May 06, 2024 6:53:56 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler initChannel
INFO: Connected to new websocket client
May 06, 2024 6:54:15 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
May 06, 2024 6:54:15 PM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreServerHandler doChannel
WARNING: failed to set up stream
java.lang.IllegalArgumentException: Invalid app id: dev~"twitter-6b50d",
	at com.google.cloud.datastore.core.names.projectids.ProjectIds.parseAppId(ProjectIds.java:176)
	at com.google.cloud.datastore.core.rep.DatabaseRef.createForApp(DatabaseRef.java:271)
	at com.google.cloud.datastore.core.firestorev1.converter.FirestoreV1ResourceRefToRepConverter.parseDatabaseRef(FirestoreV1ResourceRefToRepConverter.java:249)
	at com.google.cloud.datastore.core.firestorev1.converter.FirestoreV1ResourceRefToRepConverter.convertDatabaseRefHelper(FirestoreV1ResourceRefToRepConverter.java:163)
	at com.google.cloud.datastore.core.firestorev1.converter.FirestoreV1ResourceRefToRepConverter.convertDatabaseRefServiceRelative(FirestoreV1ResourceRefToRepConverter.java:155)
	at com.google.cloud.datastore.emulator.impl.util.FirestoreEmulatorConverters.toDatabaseRef(FirestoreEmulatorConverters.java:623)
	at com.google.cloud.datastore.emulator.impl.firestore.CloudFirestoreV1Router.databaseRefFromContext(CloudFirestoreV1Router.java:449)
	at com.google.cloud.datastore.emulator.impl.firestore.CloudFirestoreV1Router.listenStream(CloudFirestoreV1Router.java:206)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.<init>(FirestoreV1WebChannelAdapter.java:171)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreServerHandler.lambda$wrapper$2(FirestoreV1WebChannelAdapter.java:119)
	at io.grpc.Context.run(Context.java:536)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreServerHandler.wrapper(FirestoreV1WebChannelAdapter.java:113)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreServerHandler.doChannel(FirestoreV1WebChannelAdapter.java:70)
	at com.google.net.webchannel.server.v8.HttpServerHandlerImpl.publishNewChannel(HttpServerHandlerImpl.java:166)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:140)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)

May 06, 2024 6:54:16 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler channelClosed
INFO: Websocket client disconnected
May 06, 2024 6:54:16 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler initChannel
INFO: Connected to new websocket client
May 06, 2024 6:54:20 PM com.google.cloud.datastore.emulator.firestore.websocket.WebSocketChannelHandler channelClosed
INFO: Websocket client disconnected
May 06, 2024 6:54:31 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
May 06, 2024 6:54:31 PM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreServerHandler doChannel
WARNING: failed to set up stream
java.lang.IllegalArgumentException: Invalid app id: dev~"twitter-6b50d",
	at com.google.cloud.datastore.core.names.projectids.ProjectIds.parseAppId(ProjectIds.java:176)
	at com.google.cloud.datastore.core.rep.DatabaseRef.createForApp(DatabaseRef.java:271)
	at com.google.cloud.datastore.core.firestorev1.converter.FirestoreV1ResourceRefToRepConverter.parseDatabaseRef(FirestoreV1ResourceRefToRepConverter.java:249)
	at com.google.cloud.datastore.core.firestorev1.converter.FirestoreV1ResourceRefToRepConverter.convertDatabaseRefHelper(FirestoreV1ResourceRefToRepConverter.java:163)
	at com.google.cloud.datastore.core.firestorev1.converter.FirestoreV1ResourceRefToRepConverter.convertDatabaseRefServiceRelative(FirestoreV1ResourceRefToRepConverter.java:155)
	at com.google.cloud.datastore.emulator.impl.util.FirestoreEmulatorConverters.toDatabaseRef(FirestoreEmulatorConverters.java:623)
	at com.google.cloud.datastore.emulator.impl.firestore.CloudFirestoreV1Router.databaseRefFromContext(CloudFirestoreV1Router.java:449)
	at com.google.cloud.datastore.emulator.impl.firestore.CloudFirestoreV1Router.listenStream(CloudFirestoreV1Router.java:206)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.<init>(FirestoreV1WebChannelAdapter.java:171)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreServerHandler.lambda$wrapper$2(FirestoreV1WebChannelAdapter.java:119)
	at io.grpc.Context.run(Context.java:536)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreServerHandler.wrapper(FirestoreV1WebChannelAdapter.java:113)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreServerHandler.doChannel(FirestoreV1WebChannelAdapter.java:70)
	at com.google.net.webchannel.server.v8.HttpServerHandlerImpl.publishNewChannel(HttpServerHandlerImpl.java:166)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:140)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)

May 06, 2024 6:54:40 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
May 06, 2024 6:54:40 PM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreServerHandler doChannel
WARNING: failed to set up stream
java.lang.IllegalArgumentException: Invalid app id: dev~"twitter-6b50d",
	at com.google.cloud.datastore.core.names.projectids.ProjectIds.parseAppId(ProjectIds.java:176)
	at com.google.cloud.datastore.core.rep.DatabaseRef.createForApp(DatabaseRef.java:271)
	at com.google.cloud.datastore.core.firestorev1.converter.FirestoreV1ResourceRefToRepConverter.parseDatabaseRef(FirestoreV1ResourceRefToRepConverter.java:249)
	at com.google.cloud.datastore.core.firestorev1.converter.FirestoreV1ResourceRefToRepConverter.convertDatabaseRefHelper(FirestoreV1ResourceRefToRepConverter.java:163)
	at com.google.cloud.datastore.core.firestorev1.converter.FirestoreV1ResourceRefToRepConverter.convertDatabaseRefServiceRelative(FirestoreV1ResourceRefToRepConverter.java:155)
	at com.google.cloud.datastore.emulator.impl.util.FirestoreEmulatorConverters.toDatabaseRef(FirestoreEmulatorConverters.java:623)
	at com.google.cloud.datastore.emulator.impl.firestore.CloudFirestoreV1Router.databaseRefFromContext(CloudFirestoreV1Router.java:449)
	at com.google.cloud.datastore.emulator.impl.firestore.CloudFirestoreV1Router.listenStream(CloudFirestoreV1Router.java:206)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.<init>(FirestoreV1WebChannelAdapter.java:171)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreServerHandler.lambda$wrapper$2(FirestoreV1WebChannelAdapter.java:119)
	at io.grpc.Context.run(Context.java:536)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreServerHandler.wrapper(FirestoreV1WebChannelAdapter.java:113)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreServerHandler.doChannel(FirestoreV1WebChannelAdapter.java:70)
	at com.google.net.webchannel.server.v8.HttpServerHandlerImpl.publishNewChannel(HttpServerHandlerImpl.java:166)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:140)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)

May 06, 2024 6:54:59 PM io.gapi.emulators.netty.HttpVersionRoutingHandler channelRead
INFO: Detected non-HTTP/2 connection.
May 06, 2024 6:54:59 PM com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreServerHandler doChannel
WARNING: failed to set up stream
java.lang.IllegalArgumentException: Invalid app id: dev~"twitter-6b50d",
	at com.google.cloud.datastore.core.names.projectids.ProjectIds.parseAppId(ProjectIds.java:176)
	at com.google.cloud.datastore.core.rep.DatabaseRef.createForApp(DatabaseRef.java:271)
	at com.google.cloud.datastore.core.firestorev1.converter.FirestoreV1ResourceRefToRepConverter.parseDatabaseRef(FirestoreV1ResourceRefToRepConverter.java:249)
	at com.google.cloud.datastore.core.firestorev1.converter.FirestoreV1ResourceRefToRepConverter.convertDatabaseRefHelper(FirestoreV1ResourceRefToRepConverter.java:163)
	at com.google.cloud.datastore.core.firestorev1.converter.FirestoreV1ResourceRefToRepConverter.convertDatabaseRefServiceRelative(FirestoreV1ResourceRefToRepConverter.java:155)
	at com.google.cloud.datastore.emulator.impl.util.FirestoreEmulatorConverters.toDatabaseRef(FirestoreEmulatorConverters.java:623)
	at com.google.cloud.datastore.emulator.impl.firestore.CloudFirestoreV1Router.databaseRefFromContext(CloudFirestoreV1Router.java:449)
	at com.google.cloud.datastore.emulator.impl.firestore.CloudFirestoreV1Router.listenStream(CloudFirestoreV1Router.java:206)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreListenHandler.<init>(FirestoreV1WebChannelAdapter.java:171)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreServerHandler.lambda$wrapper$2(FirestoreV1WebChannelAdapter.java:119)
	at io.grpc.Context.run(Context.java:536)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreServerHandler.wrapper(FirestoreV1WebChannelAdapter.java:113)
	at com.google.cloud.datastore.emulator.firestore.webchannel.FirestoreV1WebChannelAdapter$FirestoreServerHandler.doChannel(FirestoreV1WebChannelAdapter.java:70)
	at com.google.net.webchannel.server.v8.HttpServerHandlerImpl.publishNewChannel(HttpServerHandlerImpl.java:166)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.handle(ChannelInternalImpl.java:140)
	at com.google.net.webchannel.server.v8.ChannelInternalImpl.consume(ChannelInternalImpl.java:91)
	at com.google.net.webchannel.server.common.ChannelProcessor.run(ChannelProcessor.java:86)

